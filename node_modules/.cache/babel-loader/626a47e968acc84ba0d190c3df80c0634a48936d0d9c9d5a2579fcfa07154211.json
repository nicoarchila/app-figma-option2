{"ast":null,"code":"import _regeneratorRuntime from \"/Users/nicolasarchila/Documents/Arquitectura/amplify/juanv2/react-amplify-poc/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport { __awaiter as e } from \"tslib\";\nimport { Hub as s, DataStore as t } from \"aws-amplify\";\nimport { UI_CHANNEL as o, ACTION_DATASTORE_CREATE_STARTED as i, EVENT_ACTION_DATASTORE_CREATE as m, ACTION_DATASTORE_CREATE_FINISHED as a } from \"./constants.mjs\";\nimport { getErrorMessage as r } from \"../../helpers/utils.mjs\";\nimport { AMPLIFY_SYMBOL as d } from \"../../helpers/constants.mjs\";\nimport { useTypeCastFields as n } from \"./shared/useTypeCastFields.mjs\";\nvar l = function l(_ref) {\n  var l = _ref.model,\n    p = _ref.fields,\n    c = _ref.schema;\n  var f = n({\n    fields: p,\n    modelName: l.name,\n    schema: c\n  });\n  return function () {\n    return e(void 0, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var _e;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            s.dispatch(o, {\n              event: i,\n              data: {\n                fields: f\n              }\n            }, m, d);\n            _context.next = 4;\n            return t.save(new l(f));\n          case 4:\n            _e = _context.sent;\n            s.dispatch(o, {\n              event: a,\n              data: {\n                fields: f,\n                item: _e\n              }\n            }, m, d);\n            _context.next = 11;\n            break;\n          case 8:\n            _context.prev = 8;\n            _context.t0 = _context[\"catch\"](0);\n            s.dispatch(o, {\n              event: a,\n              data: {\n                fields: f,\n                errorMessage: r(_context.t0)\n              }\n            }, m, d);\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee, null, [[0, 8]]);\n    }));\n  };\n};\nexport { l as useDataStoreCreateAction };","map":{"version":3,"names":["__awaiter","e","Hub","s","DataStore","t","UI_CHANNEL","o","ACTION_DATASTORE_CREATE_STARTED","i","EVENT_ACTION_DATASTORE_CREATE","m","ACTION_DATASTORE_CREATE_FINISHED","a","getErrorMessage","r","AMPLIFY_SYMBOL","d","useTypeCastFields","n","l","_ref","model","p","fields","c","schema","f","modelName","name","_regeneratorRuntime","mark","_callee","_e","wrap","_callee$","_context","prev","next","dispatch","event","data","save","sent","item","t0","errorMessage","stop","useDataStoreCreateAction"],"sources":["/Users/nicolasarchila/Documents/Arquitectura/amplify/juanv2/react-amplify-poc/node_modules/@aws-amplify/ui-react/dist/esm/hooks/actions/useDataStoreCreateAction.mjs"],"sourcesContent":["import{__awaiter as e}from\"tslib\";import{Hub as s,DataStore as t}from\"aws-amplify\";import{UI_CHANNEL as o,ACTION_DATASTORE_CREATE_STARTED as i,EVENT_ACTION_DATASTORE_CREATE as m,ACTION_DATASTORE_CREATE_FINISHED as a}from\"./constants.mjs\";import{getErrorMessage as r}from\"../../helpers/utils.mjs\";import{AMPLIFY_SYMBOL as d}from\"../../helpers/constants.mjs\";import{useTypeCastFields as n}from\"./shared/useTypeCastFields.mjs\";const l=({model:l,fields:p,schema:c})=>{const f=n({fields:p,modelName:l.name,schema:c});return()=>e(void 0,void 0,void 0,(function*(){try{s.dispatch(o,{event:i,data:{fields:f}},m,d);const e=yield t.save(new l(f));s.dispatch(o,{event:a,data:{fields:f,item:e}},m,d)}catch(e){s.dispatch(o,{event:a,data:{fields:f,errorMessage:r(e)}},m,d)}}))};export{l as useDataStoreCreateAction};\n"],"mappings":";AAAA,SAAOA,SAAS,IAAIC,CAAC,QAAK,OAAO;AAAC,SAAOC,GAAG,IAAIC,CAAC,EAACC,SAAS,IAAIC,CAAC,QAAK,aAAa;AAAC,SAAOC,UAAU,IAAIC,CAAC,EAACC,+BAA+B,IAAIC,CAAC,EAACC,6BAA6B,IAAIC,CAAC,EAACC,gCAAgC,IAAIC,CAAC,QAAK,iBAAiB;AAAC,SAAOC,eAAe,IAAIC,CAAC,QAAK,yBAAyB;AAAC,SAAOC,cAAc,IAAIC,CAAC,QAAK,6BAA6B;AAAC,SAAOC,iBAAiB,IAAIC,CAAC,QAAK,gCAAgC;AAAC,IAAMC,CAAC,GAAC,SAAAA,EAAAC,IAAA,EAA+B;EAAA,IAAvBD,CAAC,GAAAC,IAAA,CAAPC,KAAK;IAAUC,CAAC,GAAAF,IAAA,CAARG,MAAM;IAAUC,CAAC,GAAAJ,IAAA,CAARK,MAAM;EAAO,IAAMC,CAAC,GAACR,CAAC,CAAC;IAACK,MAAM,EAACD,CAAC;IAACK,SAAS,EAACR,CAAC,CAACS,IAAI;IAACH,MAAM,EAACD;EAAC,CAAC,CAAC;EAAC,OAAM;IAAA,OAAIxB,CAAC,CAAC,KAAK,CAAC,EAAC,KAAK,CAAC,EAAC,KAAK,CAAC,eAAA6B,mBAAA,GAAAC,IAAA,CAAE,SAAAC,QAAA;MAAA,IAAAC,EAAA;MAAA,OAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA;QAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YAAAF,QAAA,CAAAC,IAAA;YAAgBlC,CAAC,CAACoC,QAAQ,CAAChC,CAAC,EAAC;cAACiC,KAAK,EAAC/B,CAAC;cAACgC,IAAI,EAAC;gBAACjB,MAAM,EAACG;cAAC;YAAC,CAAC,EAAChB,CAAC,EAACM,CAAC,CAAC;YAACmB,QAAA,CAAAE,IAAA;YAAQ,OAAMjC,CAAC,CAACqC,IAAI,CAAC,IAAItB,CAAC,CAACO,CAAC,CAAC,CAAC;UAAA;YAAxB1B,EAAC,GAAAmC,QAAA,CAAAO,IAAA;YAAwBxC,CAAC,CAACoC,QAAQ,CAAChC,CAAC,EAAC;cAACiC,KAAK,EAAC3B,CAAC;cAAC4B,IAAI,EAAC;gBAACjB,MAAM,EAACG,CAAC;gBAACiB,IAAI,EAAC3C;cAAC;YAAC,CAAC,EAACU,CAAC,EAACM,CAAC,CAAC;YAAAmB,QAAA,CAAAE,IAAA;YAAA;UAAA;YAAAF,QAAA,CAAAC,IAAA;YAAAD,QAAA,CAAAS,EAAA,GAAAT,QAAA;YAAUjC,CAAC,CAACoC,QAAQ,CAAChC,CAAC,EAAC;cAACiC,KAAK,EAAC3B,CAAC;cAAC4B,IAAI,EAAC;gBAACjB,MAAM,EAACG,CAAC;gBAACmB,YAAY,EAAC/B,CAAC,CAAAqB,QAAA,CAAAS,EAAE;cAAC;YAAC,CAAC,EAAClC,CAAC,EAACM,CAAC,CAAC;UAAA;UAAA;YAAA,OAAAmB,QAAA,CAAAW,IAAA;QAAA;MAAA,GAAAf,OAAA;IAAA,CAAE,CAAC,CAAC;EAAA;AAAA,CAAC;AAAC,SAAOZ,CAAC,IAAI4B,wBAAwB"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"var _classCallCheck = require(\"/Users/nicolasarchila/Documents/Arquitectura/amplify/juanv2/react-amplify-poc/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\nvar _createClass = require(\"/Users/nicolasarchila/Documents/Arquitectura/amplify/juanv2/react-amplify-poc/node_modules/@babel/runtime/helpers/createClass.js\").default;\nvar _require = require(\"./OptionsBuilder\"),\n  buildOptions = _require.buildOptions;\nvar OrderedObjParser = require(\"./OrderedObjParser\");\nvar _require2 = require(\"./node2json\"),\n  prettify = _require2.prettify;\nvar validator = require('../validator');\nvar XMLParser = /*#__PURE__*/function () {\n  \"use strict\";\n\n  function XMLParser(options) {\n    _classCallCheck(this, XMLParser);\n    this.externalEntities = {};\n    this.options = buildOptions(options);\n  }\n  /**\n   * Parse XML dats to JS object \n   * @param {string|Buffer} xmlData \n   * @param {boolean|Object} validationOption \n   */\n  _createClass(XMLParser, [{\n    key: \"parse\",\n    value: function parse(xmlData, validationOption) {\n      if (typeof xmlData === \"string\") {} else if (xmlData.toString) {\n        xmlData = xmlData.toString();\n      } else {\n        throw new Error(\"XML data is accepted in String or Bytes[] form.\");\n      }\n      if (validationOption) {\n        if (validationOption === true) validationOption = {}; //validate with default options\n\n        var result = validator.validate(xmlData, validationOption);\n        if (result !== true) {\n          throw Error(\"\".concat(result.err.msg, \":\").concat(result.err.line, \":\").concat(result.err.col));\n        }\n      }\n      var orderedObjParser = new OrderedObjParser(this.options);\n      orderedObjParser.addExternalEntities(this.externalEntities);\n      var orderedResult = orderedObjParser.parseXml(xmlData);\n      if (this.options.preserveOrder || orderedResult === undefined) return orderedResult;else return prettify(orderedResult, this.options);\n    }\n\n    /**\n     * Add Entity which is not by default supported by this library\n     * @param {string} key \n     * @param {string} value \n     */\n  }, {\n    key: \"addEntity\",\n    value: function addEntity(key, value) {\n      if (value.indexOf(\"&\") !== -1) {\n        throw new Error(\"Entity value can't have '&'\");\n      } else if (key.indexOf(\"&\") !== -1 || key.indexOf(\";\") !== -1) {\n        throw new Error(\"An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'\");\n      } else if (value === \"&\") {\n        throw new Error(\"An entity with value '&' is not permitted\");\n      } else {\n        this.externalEntities[key] = value;\n      }\n    }\n  }]);\n  return XMLParser;\n}();\nmodule.exports = XMLParser;","map":{"version":3,"names":["_require","require","buildOptions","OrderedObjParser","_require2","prettify","validator","XMLParser","options","_classCallCheck","externalEntities","_createClass","key","value","parse","xmlData","validationOption","toString","Error","result","validate","concat","err","msg","line","col","orderedObjParser","addExternalEntities","orderedResult","parseXml","preserveOrder","undefined","addEntity","indexOf","module","exports"],"sources":["/Users/nicolasarchila/Documents/Arquitectura/amplify/juanv2/react-amplify-poc/node_modules/fast-xml-parser/src/xmlparser/XMLParser.js"],"sourcesContent":["const { buildOptions} = require(\"./OptionsBuilder\");\nconst OrderedObjParser = require(\"./OrderedObjParser\");\nconst { prettify} = require(\"./node2json\");\nconst validator = require('../validator');\n\nclass XMLParser{\n    \n    constructor(options){\n        this.externalEntities = {};\n        this.options = buildOptions(options);\n        \n    }\n    /**\n     * Parse XML dats to JS object \n     * @param {string|Buffer} xmlData \n     * @param {boolean|Object} validationOption \n     */\n    parse(xmlData,validationOption){\n        if(typeof xmlData === \"string\"){\n        }else if( xmlData.toString){\n            xmlData = xmlData.toString();\n        }else{\n            throw new Error(\"XML data is accepted in String or Bytes[] form.\")\n        }\n        if( validationOption){\n            if(validationOption === true) validationOption = {}; //validate with default options\n            \n            const result = validator.validate(xmlData, validationOption);\n            if (result !== true) {\n              throw Error( `${result.err.msg}:${result.err.line}:${result.err.col}` )\n            }\n          }\n        const orderedObjParser = new OrderedObjParser(this.options);\n        orderedObjParser.addExternalEntities(this.externalEntities);\n        const orderedResult = orderedObjParser.parseXml(xmlData);\n        if(this.options.preserveOrder || orderedResult === undefined) return orderedResult;\n        else return prettify(orderedResult, this.options);\n    }\n\n    /**\n     * Add Entity which is not by default supported by this library\n     * @param {string} key \n     * @param {string} value \n     */\n    addEntity(key, value){\n        if(value.indexOf(\"&\") !== -1){\n            throw new Error(\"Entity value can't have '&'\")\n        }else if(key.indexOf(\"&\") !== -1 || key.indexOf(\";\") !== -1){\n            throw new Error(\"An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'\")\n        }else if(value === \"&\"){\n            throw new Error(\"An entity with value '&' is not permitted\");\n        }else{\n            this.externalEntities[key] = value;\n        }\n    }\n}\n\nmodule.exports = XMLParser;"],"mappings":";;AAAA,IAAAA,QAAA,GAAwBC,OAAO,CAAC,kBAAkB,CAAC;EAA3CC,YAAY,GAAAF,QAAA,CAAZE,YAAY;AACpB,IAAMC,gBAAgB,GAAGF,OAAO,CAAC,oBAAoB,CAAC;AACtD,IAAAG,SAAA,GAAoBH,OAAO,CAAC,aAAa,CAAC;EAAlCI,QAAQ,GAAAD,SAAA,CAARC,QAAQ;AAChB,IAAMC,SAAS,GAAGL,OAAO,CAAC,cAAc,CAAC;AAAC,IAEpCM,SAAS;EAAA;;EAEX,SAAAA,UAAYC,OAAO,EAAC;IAAAC,eAAA,OAAAF,SAAA;IAChB,IAAI,CAACG,gBAAgB,GAAG,CAAC,CAAC;IAC1B,IAAI,CAACF,OAAO,GAAGN,YAAY,CAACM,OAAO,CAAC;EAExC;EACA;AACJ;AACA;AACA;AACA;EAJIG,YAAA,CAAAJ,SAAA;IAAAK,GAAA;IAAAC,KAAA,EAKA,SAAAC,MAAMC,OAAO,EAACC,gBAAgB,EAAC;MAC3B,IAAG,OAAOD,OAAO,KAAK,QAAQ,EAAC,CAC/B,CAAC,MAAK,IAAIA,OAAO,CAACE,QAAQ,EAAC;QACvBF,OAAO,GAAGA,OAAO,CAACE,QAAQ,CAAC,CAAC;MAChC,CAAC,MAAI;QACD,MAAM,IAAIC,KAAK,CAAC,iDAAiD,CAAC;MACtE;MACA,IAAIF,gBAAgB,EAAC;QACjB,IAAGA,gBAAgB,KAAK,IAAI,EAAEA,gBAAgB,GAAG,CAAC,CAAC,CAAC,CAAC;;QAErD,IAAMG,MAAM,GAAGb,SAAS,CAACc,QAAQ,CAACL,OAAO,EAAEC,gBAAgB,CAAC;QAC5D,IAAIG,MAAM,KAAK,IAAI,EAAE;UACnB,MAAMD,KAAK,IAAAG,MAAA,CAAKF,MAAM,CAACG,GAAG,CAACC,GAAG,OAAAF,MAAA,CAAIF,MAAM,CAACG,GAAG,CAACE,IAAI,OAAAH,MAAA,CAAIF,MAAM,CAACG,GAAG,CAACG,GAAG,CAAG,CAAC;QACzE;MACF;MACF,IAAMC,gBAAgB,GAAG,IAAIvB,gBAAgB,CAAC,IAAI,CAACK,OAAO,CAAC;MAC3DkB,gBAAgB,CAACC,mBAAmB,CAAC,IAAI,CAACjB,gBAAgB,CAAC;MAC3D,IAAMkB,aAAa,GAAGF,gBAAgB,CAACG,QAAQ,CAACd,OAAO,CAAC;MACxD,IAAG,IAAI,CAACP,OAAO,CAACsB,aAAa,IAAIF,aAAa,KAAKG,SAAS,EAAE,OAAOH,aAAa,CAAC,KAC9E,OAAOvB,QAAQ,CAACuB,aAAa,EAAE,IAAI,CAACpB,OAAO,CAAC;IACrD;;IAEA;AACJ;AACA;AACA;AACA;EAJI;IAAAI,GAAA;IAAAC,KAAA,EAKA,SAAAmB,UAAUpB,GAAG,EAAEC,KAAK,EAAC;MACjB,IAAGA,KAAK,CAACoB,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,EAAC;QACzB,MAAM,IAAIf,KAAK,CAAC,6BAA6B,CAAC;MAClD,CAAC,MAAK,IAAGN,GAAG,CAACqB,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,IAAIrB,GAAG,CAACqB,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,EAAC;QACxD,MAAM,IAAIf,KAAK,CAAC,sEAAsE,CAAC;MAC3F,CAAC,MAAK,IAAGL,KAAK,KAAK,GAAG,EAAC;QACnB,MAAM,IAAIK,KAAK,CAAC,2CAA2C,CAAC;MAChE,CAAC,MAAI;QACD,IAAI,CAACR,gBAAgB,CAACE,GAAG,CAAC,GAAGC,KAAK;MACtC;IACJ;EAAC;EAAA,OAAAN,SAAA;AAAA;AAGL2B,MAAM,CAACC,OAAO,GAAG5B,SAAS"},"metadata":{},"sourceType":"script","externalDependencies":[]}
{"ast":null,"code":"import _regeneratorRuntime from \"/Users/nicolasarchila/Documents/Arquitectura/amplify/juanv2/react-amplify-poc/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _slicedToArray from \"/Users/nicolasarchila/Documents/Arquitectura/amplify/juanv2/react-amplify-poc/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { __awaiter as e } from \"tslib\";\nimport * as s from \"react\";\nimport { Hub as a } from \"@aws-amplify/core\";\nimport { Auth as i } from \"aws-amplify\";\nvar r = function r() {\n  var _s$useState = s.useState({\n      error: void 0,\n      isLoading: !0,\n      user: void 0\n    }),\n    _s$useState2 = _slicedToArray(_s$useState, 2),\n    r = _s$useState2[0],\n    t = _s$useState2[1],\n    o = s.useCallback(function () {\n      return e(void 0, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var _e;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              t(function (e) {\n                return Object.assign(Object.assign({}, e), {\n                  isLoading: !0\n                });\n              });\n              _context.prev = 1;\n              _context.next = 4;\n              return i.currentAuthenticatedUser();\n            case 4:\n              _e = _context.sent;\n              t({\n                user: _e,\n                isLoading: !1\n              });\n              _context.next = 11;\n              break;\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](1);\n              t({\n                error: _context.t0,\n                isLoading: !1\n              });\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[1, 8]]);\n      }));\n    }, []),\n    n = s.useCallback(function (_ref) {\n      var e = _ref.payload;\n      switch (e.event) {\n        case \"signIn\":\n        case \"signUp\":\n        case \"autoSignIn\":\n          t({\n            user: e.data,\n            isLoading: !1\n          });\n          break;\n        case \"signOut\":\n          t({\n            user: void 0,\n            isLoading: !1\n          });\n          break;\n        case \"tokenRefresh_failure\":\n        case \"signIn_failure\":\n          t({\n            error: e.data,\n            isLoading: !1\n          });\n          break;\n        case \"autoSignIn_failure\":\n          t({\n            error: new Error(e.message),\n            isLoading: !1\n          });\n          break;\n        case \"tokenRefresh\":\n          o();\n      }\n    }, [o]);\n  return s.useEffect(function () {\n    var e = a.listen(\"auth\", n, \"useAuth\");\n    return o(), e;\n  }, [n, o]), Object.assign(Object.assign({}, r), {\n    fetch: o\n  });\n};\nexport { r as useAuth };","map":{"version":3,"names":["__awaiter","e","s","Hub","a","Auth","i","r","_s$useState","useState","error","isLoading","user","_s$useState2","_slicedToArray","t","o","useCallback","_regeneratorRuntime","mark","_callee","_e","wrap","_callee$","_context","prev","next","Object","assign","currentAuthenticatedUser","sent","t0","stop","n","_ref","payload","event","data","Error","message","useEffect","listen","fetch","useAuth"],"sources":["/Users/nicolasarchila/Documents/Arquitectura/amplify/juanv2/react-amplify-poc/node_modules/@aws-amplify/ui-react/dist/esm/hooks/useAuth.mjs"],"sourcesContent":["import{__awaiter as e}from\"tslib\";import*as s from\"react\";import{Hub as a}from\"@aws-amplify/core\";import{Auth as i}from\"aws-amplify\";const r=()=>{const[r,t]=s.useState({error:void 0,isLoading:!0,user:void 0}),o=s.useCallback((()=>e(void 0,void 0,void 0,(function*(){t((e=>Object.assign(Object.assign({},e),{isLoading:!0})));try{const e=yield i.currentAuthenticatedUser();t({user:e,isLoading:!1})}catch(e){t({error:e,isLoading:!1})}}))),[]),n=s.useCallback((({payload:e})=>{switch(e.event){case\"signIn\":case\"signUp\":case\"autoSignIn\":t({user:e.data,isLoading:!1});break;case\"signOut\":t({user:void 0,isLoading:!1});break;case\"tokenRefresh_failure\":case\"signIn_failure\":t({error:e.data,isLoading:!1});break;case\"autoSignIn_failure\":t({error:new Error(e.message),isLoading:!1});break;case\"tokenRefresh\":o()}}),[o]);return s.useEffect((()=>{const e=a.listen(\"auth\",n,\"useAuth\");return o(),e}),[n,o]),Object.assign(Object.assign({},r),{fetch:o})};export{r as useAuth};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
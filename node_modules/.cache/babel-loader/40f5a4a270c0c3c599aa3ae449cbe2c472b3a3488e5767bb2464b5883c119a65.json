{"ast":null,"code":"import _regeneratorRuntime from\"/Users/nicolasarchila/Documents/Arquitectura/amplify/juanv2/react-amplify-poc/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/nicolasarchila/Documents/Arquitectura/amplify/juanv2/react-amplify-poc/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/Users/nicolasarchila/Documents/Arquitectura/amplify/juanv2/react-amplify-poc/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/nicolasarchila/Documents/Arquitectura/amplify/juanv2/react-amplify-poc/node_modules/@babel/runtime/helpers/esm/createClass.js\";import httpService from\"../httpService\";import{constantesInterceptors}from\"../../constants/constants\";import store from\"../../../store/store\";import{StoreConst}from\"../../constants/store\";import NumbersFormat from\"../../pipes/numbers\";var LoansAPI=/*#__PURE__*/function(){function LoansAPI(){_classCallCheck(this,LoansAPI);}_createClass(LoansAPI,null,[{key:\"loans\",value:function(){var _loans=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return _context2.abrupt(\"return\",new Promise(function(resolve,reject){var prodSelected=store.getState().productSelected;httpService.execute(constantesInterceptors.getLoanAccountDetailById,\"\",\"get\",{loan_id:prodSelected.account_id,loan_type:prodSelected.account_type,loan_subtype:prodSelected.account_subtype}).then(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(res){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(!(res&&res.loan)){_context.next=7;break;}res.loan.loan_id=NumbersFormat.CleanProductNum(res.loan.loan_id);_context.next=4;return store.dispatch({type:StoreConst.DETAILS,payload:res});case 4:resolve(res);_context.next=8;break;case 7:reject(false);case 8:case\"end\":return _context.stop();}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}()).catch(function(e){reject(false);});}));case 1:case\"end\":return _context2.stop();}},_callee2);}));function loans(){return _loans.apply(this,arguments);}return loans;}()}]);return LoansAPI;}();export{LoansAPI as default};","map":{"version":3,"names":["httpService","constantesInterceptors","store","StoreConst","NumbersFormat","LoansAPI","_classCallCheck","_createClass","key","value","_loans","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","wrap","_callee2$","_context2","prev","next","abrupt","Promise","resolve","reject","prodSelected","getState","productSelected","execute","getLoanAccountDetailById","loan_id","account_id","loan_type","account_type","loan_subtype","account_subtype","then","_ref","_callee","res","_callee$","_context","loan","CleanProductNum","dispatch","type","DETAILS","payload","stop","_x","apply","arguments","catch","e","loans","default"],"sources":["/Users/nicolasarchila/Documents/Arquitectura/amplify/juanv2/react-amplify-poc/src/shared/services/apis/loans.tsx"],"sourcesContent":["import { AxiosResponse } from \"axios\";\nimport { GenericResponse } from \"../../interfaces/interface\";\nimport httpService from \"../httpService\";\nimport { constantesInterceptors } from \"../../constants/constants\";\nimport { APIS_CONSTANTS } from \"./constants/constants\";\nimport store from \"../../../store/store\";\nimport { StoreConst } from \"../../constants/store\";\nimport NumbersFormat from \"../../pipes/numbers\";\n\nexport default class LoansAPI {\n  public static async loans(): Promise<any> {\n    return new Promise((resolve,reject) => {\n        \n        const prodSelected = store.getState().productSelected;\n\n        httpService\n            .execute(constantesInterceptors.getLoanAccountDetailById, \"\", \"get\", {\n                loan_id: prodSelected.account_id,\n                loan_type: prodSelected.account_type,\n                loan_subtype: prodSelected.account_subtype\n            })\n            .then(async (res: any) => {\n                if(res && res.loan) {\n                    res.loan.loan_id = NumbersFormat.CleanProductNum(res.loan.loan_id);\n                    await store.dispatch({\n                        type: StoreConst.DETAILS,\n                        payload: res,\n                    });\n                    resolve(res);\n                }\n                else {\n                    reject(false);\n                }\n            })\n            .catch((e: any) => {\n                reject(false);\n            });\n    })\n  }\n}\n"],"mappings":"0pBAEA,MAAO,CAAAA,WAAW,KAAM,gBAAgB,CACxC,OAASC,sBAAsB,KAAQ,2BAA2B,CAElE,MAAO,CAAAC,KAAK,KAAM,sBAAsB,CACxC,OAASC,UAAU,KAAQ,uBAAuB,CAClD,MAAO,CAAAC,aAAa,KAAM,qBAAqB,CAAC,GAE3B,CAAAC,QAAQ,kCAAAA,SAAA,EAAAC,eAAA,MAAAD,QAAA,GAAAE,YAAA,CAAAF,QAAA,QAAAG,GAAA,SAAAC,KAAA,gBAAAC,MAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAC3B,SAAAC,SAAA,SAAAF,mBAAA,GAAAG,IAAA,UAAAC,UAAAC,SAAA,iBAAAA,SAAA,CAAAC,IAAA,CAAAD,SAAA,CAAAE,IAAA,gBAAAF,SAAA,CAAAG,MAAA,UACS,GAAI,CAAAC,OAAO,CAAC,SAACC,OAAO,CAACC,MAAM,CAAK,CAEnC,GAAM,CAAAC,YAAY,CAAGtB,KAAK,CAACuB,QAAQ,CAAC,CAAC,CAACC,eAAe,CAErD1B,WAAW,CACN2B,OAAO,CAAC1B,sBAAsB,CAAC2B,wBAAwB,CAAE,EAAE,CAAE,KAAK,CAAE,CACjEC,OAAO,CAAEL,YAAY,CAACM,UAAU,CAChCC,SAAS,CAAEP,YAAY,CAACQ,YAAY,CACpCC,YAAY,CAAET,YAAY,CAACU,eAC/B,CAAC,CAAC,CACDC,IAAI,6BAAAC,IAAA,CAAAzB,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAC,SAAAwB,QAAOC,GAAQ,SAAA1B,mBAAA,GAAAG,IAAA,UAAAwB,SAAAC,QAAA,iBAAAA,QAAA,CAAAtB,IAAA,CAAAsB,QAAA,CAAArB,IAAA,cACdmB,GAAG,EAAIA,GAAG,CAACG,IAAI,GAAAD,QAAA,CAAArB,IAAA,UACdmB,GAAG,CAACG,IAAI,CAACZ,OAAO,CAAGzB,aAAa,CAACsC,eAAe,CAACJ,GAAG,CAACG,IAAI,CAACZ,OAAO,CAAC,CAACW,QAAA,CAAArB,IAAA,SAC7D,CAAAjB,KAAK,CAACyC,QAAQ,CAAC,CACjBC,IAAI,CAAEzC,UAAU,CAAC0C,OAAO,CACxBC,OAAO,CAAER,GACb,CAAC,CAAC,QACFhB,OAAO,CAACgB,GAAG,CAAC,CAACE,QAAA,CAAArB,IAAA,gBAGbI,MAAM,CAAC,KAAK,CAAC,CAAC,wBAAAiB,QAAA,CAAAO,IAAA,MAAAV,OAAA,GAErB,mBAAAW,EAAA,SAAAZ,IAAA,CAAAa,KAAA,MAAAC,SAAA,QAAC,CACDC,KAAK,CAAC,SAACC,CAAM,CAAK,CACf7B,MAAM,CAAC,KAAK,CAAC,CACjB,CAAC,CAAC,CACV,CAAC,CAAC,0BAAAN,SAAA,CAAA8B,IAAA,MAAAjC,QAAA,GACH,YAAAuC,MAAA,SAAA3C,MAAA,CAAAuC,KAAA,MAAAC,SAAA,UAAAG,KAAA,eAAAhD,QAAA,YA7BkBA,QAAQ,IAAAiD,OAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}